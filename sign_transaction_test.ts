import { ethers } from 'ethers'
import { getEthersProvider } from 'src/services/ethers'
// const privKey = '0xec85999367d32fbbe02dd600a2a44550b95274cc67d14375a9f0bce233f13ad2'
const privKey = '0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80'

;(async function () {
  const provider = await getEthersProvider('ethereum', {
    ETHEREUM_RPC_ENDPOINT_MEV: '',
    MODE: 'production',
  })

  const wallet = new ethers.Wallet(privKey, provider)

  console.log(ethers.computeAddress(privKey))

  const dataToSign =
    '0x608060405234801561001057600080fd5b506040516020806101d783398101604052516000556101a3806100346000396000f3006080604052600436106100615763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416632a1afcd981146100665780632c46b2051461008d57806360fe47b1146100a25780636d4ce63c1461008d575b600080fd5b34801561007257600080fd5b5061007b6100ba565b60408051918252519081900360200190f35b34801561009957600080fd5b5061007b6100c0565b3480156100ae57600080fd5b5061007b6004356100c6565b60005481565b60005490565b60006064821061013757604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f56616c75652063616e206e6f74206265206f7665722031303000000000000000604482015290519081900360640190fd5b60008290556040805183815290517f9455957c3b77d1d4ed071e2b469dd77e37fc5dfd3b4d44dc8a997cc97c7b3d499181900360200190a15050600054905600a165627a7a72305820a22d4674e519555e6f065ccf98b5bd479e108895cbddc10cba200c775d0008730029000000000000000000000000000000000000000000000000000000000000000a'
  // const address1 = '0xd5bcc62d9b1087a5cfec116c24d6187dd40fdf8a'
  const signed = await wallet.signTransaction({
    data: dataToSign,
    // address: ethers.getAddress(address1),
    gasLimit: 2500,
    nonce: 2,
    maxFeePerGas: '1',
    maxPriorityFeePerGas: '0',
    chainId: 12345,
    value: '0',
  })
  console.log(signed)
})()
